<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - Idi.om</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            cursor: none;
            color: #333333;
            overflow-x: hidden;
        }

        .cursor-dot {
            position: fixed;
            width: 20px;
            height: 20px;
            background: #4A9EFF;
            border-radius: 50%;
            pointer-events: none;
            z-index: 15000;
            transition: transform 0.1s ease;
            transform: translate(-50%, -50%);
        }

        * {
            cursor: none !important;
        }

        /* Header Navigation */
        .header {
            position: fixed;
            top: 2rem;
            left: 2rem;
            right: 2rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            z-index: 100;
            padding: 0 2rem;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .header-center-overlay {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }

        .header.hidden {
            transform: translateY(-100px);
            opacity: 0;
        }

        .logo {
            font-size: 1.4rem;
            font-weight: 500;
            color: #111827;
            text-decoration: none;
            display: flex;
            align-items: center;
            letter-spacing: 0.12em;
        }

        .logo-image {
            height: 40px;
            width: auto;
            object-fit: contain;
        }

        .nav-menu {
            display: flex;
            align-items: center;
            flex: 1;
            justify-content: center;
            position: relative;
        }

        .nav-left, .nav-right {
            position: absolute;
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .nav-left {
            left: 0;
        }

        .nav-right {
            right: 0;
        }

        .nav-center {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            color: #6b7280;
            text-decoration: none;
            font-size: 15px;
            font-weight: 400;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
            display: block;
        }

        .nav-link:hover {
            color: #111827;
            background: rgba(0, 0, 0, 0.05);
        }

        .early-access-btn {
            background: #111827;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .early-access-btn:hover {
            background: #1f2937;
            transform: translateY(-1px);
        }

        /* Dropdown Menu */
        .dropdown {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.12);
            border: 1px solid rgba(0, 0, 0, 0.06);
            padding: 1.5rem;
            min-width: 280px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            margin-top: 0.5rem;
        }

        .nav-item:hover .dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 0.75rem 1rem;
            color: #374151;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s ease;
            font-size: 14px;
            margin-bottom: 0.25rem;
        }

        .dropdown-item:hover {
            background: #f9fafb;
            color: #111827;
        }

        .dropdown-item:last-child {
            margin-bottom: 0;
        }

        /* Navigation Divider */
        .nav-divider {
            color: #d1d5db;
            font-weight: 300;
            margin: 0 0.5rem;
        }

        /* Mega Menu Styles */
        .mega-menu {
            position: absolute;
            top: calc(100% + 20px);
            left: 0;
            right: 0;
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            padding: 2.5rem 3rem;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-20px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            border: 1px solid rgba(0, 0, 0, 0.05);
            margin: 0 2rem;
            min-height: 320px;
        }

        .shared-mega-menu {
            position: absolute;
            top: calc(100% + 20px);
            left: -2rem;
            right: -2rem;
            border-radius: 20px;
        }

        .mega-menu-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 98;
        }

        .mega-menu-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        .mega-menu-trigger:hover ~ .shared-mega-menu,
        .mega-menu-trigger:hover + .nav-divider + .mega-menu-trigger ~ .shared-mega-menu,
        .shared-mega-menu:hover {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .mega-menu-content {
            display: flex;
            gap: 1.5rem;
            justify-content: flex-start;
            align-items: center;
            padding: 0;
            width: 100%;
            min-height: 280px;
        }

        .mega-menu-left {
            flex: 0 0 260px;
            width: 260px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding-left: 0;
        }

        .mega-menu-card {
            background: #f8fafc;
            border-radius: 16px;
            overflow: hidden;
            position: relative;
            transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            perspective: 1000px;
            margin: 0;
            transform-style: preserve-3d;
        }

        .mega-menu-image {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 16px;
        }


        .mega-menu-right {
            flex: 1;
            display: flex;
            gap: 2.5rem;
            justify-content: space-between;
            padding-right: 1rem;
            align-items: flex-start;
        }

        .mega-menu-section {
            flex: 1;
        }

        .mega-menu-section:first-child {
            flex: 0 0 420px;
            width: 420px;
        }

        .mega-menu-section:first-child .mega-menu-link.with-image:first-of-type {
            margin-left: 0;
        }

        .mega-menu-section h4 {
            font-size: 0.75rem;
            font-weight: 600;
            color: #9ca3af;
            letter-spacing: 0.05em;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
        }

        .mega-menu-section:first-child h4 {
            padding-left: 1.5rem;
        }

        /* Dimming and shrinking effect for Product section */
        .mega-menu-section:first-child:hover .mega-menu-link.with-image {
            opacity: 0.4;
            transform: scale(0.95);
            transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1), transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .mega-menu-section:first-child:hover .mega-menu-link.with-image:hover {
            opacity: 1;
            transform: scale(1);
            transition: opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1), transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .mega-menu-link {
            display: block;
            padding: 0.75rem 0;
            text-decoration: none;
            color: #374151;
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }

        .mega-menu-link:hover {
            color: #111827;
            background: rgba(0, 0, 0, 0.05);
            padding-left: 0.5rem;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        .mega-menu-link.with-image {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            border-radius: 12px;
            min-height: 80px;
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .mega-menu-link.with-image:hover {
            padding-left: 1.5rem;
            background: rgba(0, 0, 0, 0.05);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .mega-menu-link.with-image:hover .mega-menu-link-image {
            transform: scale(1.05);
        }

        .mega-menu-link-image {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            object-fit: cover;
            border: 2px solid #e5e7eb;
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            flex-shrink: 0;
            margin-left: 6px; /* Center align with 68px third image: (68-60)/2 = 4px + 2px for fine adjustment */
        }

        .mega-menu-link.with-image:last-child .mega-menu-link-image {
            border: none;
            width: 68px;
            height: 68px;
            border-radius: 12px;
            object-fit: cover;
            object-position: center;
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            flex-shrink: 0;
            margin-left: 0; /* 68px image doesn't need offset since it's the reference point */
        }

        .mega-menu-link.with-image:last-child:hover .mega-menu-link-image {
            transform: scale(1.05);
        }

        .mega-menu-link-content {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            flex: 1;
        }

        .mega-menu-link strong {
            display: block;
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .mega-menu-link span {
            display: block;
            font-size: 0.85rem;
            color: #6b7280;
            line-height: 1.4;
        }

        .mega-menu-link.simple {
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Hero Section */
        .hero {
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            margin: 100px 2rem 2rem;
        }

        .hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 120%;
            height: 120%;
            object-fit: cover;
            z-index: 1;
            transform: translate(-8%, -10%);
        }

        .hero::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30%;
            background: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.7) 100%);
            z-index: 2;
            border-radius: 0 0 20px 20px;
        }

        .hero-content {
            max-width: 1000px;
            width: 100%;
            text-align: center;
            position: relative;
            z-index: 3;
            padding: 0 2rem;
        }

        .hero-title {
            font-size: clamp(3rem, 8vw, 5.5rem);
            font-weight: 300;
            color: white;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            letter-spacing: -0.02em;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .hero-subtitle {
            font-size: clamp(1.3rem, 3vw, 1.8rem);
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.4;
            margin-bottom: 1rem;
            font-weight: 400;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .hero-description {
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        /* Quiz Popup Styles */
        .quiz-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 0;
            cursor: auto;
            opacity: 0;
            animation: fadeInOverlay 0.6s ease forwards;
        }

        @keyframes fadeInOverlay {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
                background: rgba(0, 0, 0, 0);
            }
            to {
                opacity: 1;
                backdrop-filter: blur(10px);
                background: rgba(0, 0, 0, 0.8);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(30px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .quiz-overlay.active {
            display: flex;
        }

        .quiz-container {
            background: white;
            border-radius: 0;
            width: 100vw;
            height: 100vh;
            max-height: 100vh;
            overflow: hidden;
            position: relative;
            display: flex;
            box-shadow: none;
            cursor: auto;
            animation: slideInUp 0.6s ease forwards;
        }

        .quiz-image {
            flex: 1;
            background: #2d1b0f;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            position: relative;
            overflow: hidden;
        }

        .quiz-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }

        .quiz-content {
            flex: 1;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .quiz-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            font-size: 24px;
            color: #6b7280;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
            z-index: 10001;
        }

        .quiz-close:hover {
            background: rgba(0, 0, 0, 0.05);
            color: #374151;
        }

        .quiz-progress {
            color: #4A9EFF;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-size: 2rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .quiz-subtitle {
            color: #6b7280;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }

        .quiz-nav-button {
            background: #e5e7eb;
            color: #374151;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quiz-nav-button:hover {
            background: #d1d5db;
        }

        .quiz-nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-option {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1rem 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 16px;
            color: #374151;
            text-align: left;
        }

        .quiz-option:hover {
            border-color: #4A9EFF;
            background: #eff6ff;
        }

        .quiz-option.selected {
            border-color: #4A9EFF;
            background: #eff6ff;
            color: #2563eb;
        }

        .quiz-button {
            background: #111827;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            align-self: flex-start;
        }

        .quiz-button:hover {
            background: #1f2937;
            transform: translateY(-1px);
        }

        .quiz-button:disabled {
            background: #d1d5db;
            cursor: not-allowed;
            transform: none;
        }

        .quiz-email-input {
            width: 100%;
            padding: 1rem 1.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 16px;
            margin-bottom: 1.5rem;
            outline: none;
            transition: border-color 0.2s ease;
        }

        .quiz-email-input:focus {
            border-color: #4A9EFF;
        }

        .quiz-email-input::placeholder {
            color: #9ca3af;
        }

        @media (max-width: 900px) {
            .quiz-overlay {
                padding: 0;
            }

            .quiz-container {
                flex-direction: column;
                width: 100vw;
                height: 100vh;
                max-height: 100vh;
                border-radius: 0;
            }

            .quiz-image {
                flex: none;
                height: 200px;
            }

            .quiz-content {
                padding: 2rem;
                flex: 1;
                overflow-y: auto;
            }

            .quiz-title {
                font-size: 1.5rem;
            }
        }

        @media (min-width: 901px) {
            .quiz-overlay {
                padding: 0;
                align-items: stretch;
                justify-content: stretch;
            }

            .quiz-container {
                width: 100vw;
                height: 100vh;
                max-height: 100vh;
                max-width: 100vw;
                border-radius: 0;
            }
        }

        /* Poster Section */
        .poster-section {
            background: #ffffff;
            padding: 0;
            overflow: hidden;
            position: relative;
        }

        .poster-container {
            width: 100vw;
            margin: 0;
            padding: 0;
        }

        .poster-image-wrapper {
            opacity: 1;
            transform: translateX(0);
            width: 100%;
        }

        .poster-image {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Footer */
        .footer {
            background: #f8fafc;
            padding: 4rem 2rem 2rem;
            border-top: 1px solid #e5e7eb;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 2rem;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: #6b7280;
            text-decoration: none;
            font-size: 14px;
            font-weight: 400;
            transition: color 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .footer-links a:hover {
            color: #111827;
        }

        .footer-bottom {
            max-width: 1200px;
            margin: 3rem auto 0;
            padding-top: 2rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            color: #6b7280;
        }

        .footer-brand {
            font-weight: 500;
            color: #111827;
        }

        .footer-tagline {
            font-style: italic;
            color: #9ca3af;
        }

        /* Carousel Showcase Section */
        .carousel-showcase {
            background: #ffffff;
            padding: 4rem 2rem 6rem;
            position: relative;
        }

        .carousel-container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        .carousel-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .carousel-header h2 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 300;
            color: #111827;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .carousel-wrapper {
            position: relative;
            overflow-x: auto;
            overflow-y: hidden;
            scroll-snap-type: x mandatory;
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-behavior: smooth;
        }

        .carousel-wrapper::-webkit-scrollbar {
            display: none;
        }

        .carousel-track {
            display: flex;
        }

        .carousel-slide {
            min-width: 100%;
            width: 100%;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 3rem 2rem;
            min-height: 600px;
            scroll-snap-align: start;
        }

        .slide-content {
            width: 100%;
            max-width: 1200px;
            background: #f5f5f7;
            border-radius: 24px;
            padding: 0;
            height: 600px;
            display: flex;
            align-items: stretch;
            overflow: hidden;
            position: relative;
        }

        .slide-text {
            flex: 1;
            padding: 4rem 3rem;
            text-align: left;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .slide-image {
            flex: 1;
            height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .slide-image img {
            max-width: 85%;
            height: 90%;
            object-fit: contain;
            object-position: center;
        }

        /* First and last slides - phone touches bottom */
        .carousel-slide:first-child .slide-image img,
        .carousel-slide:last-child .slide-image img {
            object-position: center calc(100% + 20px);
            height: 100%;
        }

        .slide-content h3 {
            font-size: 2.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .slide-content p {
            font-size: 1.25rem;
            line-height: 1.5;
            color: #6b7280;
            font-weight: 400;
        }

        .slide-text-vertical {
            width: 100%;
            padding: 4rem 3rem 2rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }

        .slide-image-bottom {
            width: 100%;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            padding: 0 3rem 3rem;
        }

        .slide-image-bottom img {
            max-width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
        }

        .slide-content-vertical {
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
        }

        .slide-content-background {
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 0;
        }

        .slide-content-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 24px;
        }

        .slide-text-overlay {
            position: relative;
            z-index: 2;
            padding: 2rem 3rem 4rem;
            text-align: center;
            color: white;
            max-width: 600px;
        }

        .slide-text-overlay h3 {
            font-size: 2.5rem;
            font-weight: 600;
            color: white;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .slide-text-overlay p {
            font-size: 1.25rem;
            line-height: 1.5;
            color: white;
            font-weight: 400;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.5);
        }

        .slide-content-companionship {
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 0;
        }

        .slide-text-top {
            width: 100%;
            padding: 4rem 3rem 2rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }

        .slide-images-bottom {
            width: 100%;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0 3rem 3rem;
        }

        .slide-device-hardware {
            flex: 0 0 150px;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            transform: rotate(-5deg);
            margin-right: -10px;
        }

        .slide-device-hardware img {
            width: 100%;
            height: auto;
            object-fit: contain;
            max-height: 100%;
        }

        .slide-main-image {
            flex: 0 0 250px;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            transform: rotate(2deg);
        }

        .slide-main-image img {
            max-width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
        }


        /* Carousel Dots */
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            padding: 1.5rem 2rem;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, opacity 0.3s ease;
            position: fixed;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            z-index: 100;
            opacity: 0;
            visibility: hidden;
        }

        .carousel-dots.visible {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
        }

        .carousel-dots.hidden {
            transform: translateX(-50%) translateY(100px);
            opacity: 0;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #d1d5db;
            border: none;
            transition: all 0.3s ease;
            position: relative;
        }

        .dot:hover {
            background: #9ca3af;
            transform: scale(1.2);
        }

        .dot.active {
            background: #111827;
            width: 32px;
            border-radius: 6px;
        }

        /* Mobile Responsive for Carousel */
        @media (max-width: 768px) {
            .carousel-slide {
                padding: 4.5rem 1.5rem;
                min-height: 525px;
            }

            .carousel-nav {
                width: 44px;
                height: 44px;
            }

            .carousel-nav.prev {
                left: 1rem;
            }

            .carousel-nav.next {
                right: 1rem;
            }

            .carousel-dots {
                gap: 0.5rem;
                padding: 1rem 1.5rem;
                margin-top: 2rem;
            }

            .dot {
                width: 10px;
                height: 10px;
            }

            .dot.active {
                width: 28px;
            }
        }

        @media (max-width: 480px) {
            .carousel-slide {
                padding: 3rem 1rem;
                min-height: 450px;
            }

            .carousel-nav {
                width: 40px;
                height: 40px;
            }

            .carousel-dots {
                gap: 0.4rem;
                padding: 0.75rem 1rem;
            }

            .dot {
                width: 8px;
                height: 8px;
            }

            .dot.active {
                width: 24px;
            }
        }

        /* Safety Section */
        .safety-section {
            height: 200vh;
            position: relative;
        }

        .safety-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('old-man-wearing-device.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            filter: var(--bg-blur, blur(0px));
            transition: filter 0.1s ease-out;
            z-index: 1;
        }

        .safety-intro {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 4rem 3rem;
            position: relative;
            z-index: 10;
        }

        .safety-details {
            height: 100vh;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 4rem 4rem;
            position: relative;
            z-index: 10;
        }

        .safety-text-intro {
            max-width: 500px;
            text-align: left;
            color: white;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
            margin-right: 5%;
        }

        .safety-text-intro h2 {
            font-size: 1.2rem;
            font-weight: 400;
            color: #4A9EFF;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: none;
        }

        .safety-text-intro h3 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 600;
            color: white;
            margin-bottom: 2rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .safety-text-intro p {
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 400;
        }

        .safety-text-details {
            max-width: 1200px;
            margin: 0 auto;
            text-align: left;
            width: 100%;
        }

        .safety-text-details h3 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 600;
            color: white;
            margin-bottom: 2rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
            text-align: left;
        }

        .safety-text-details > p {
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 4rem;
            font-weight: 400;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.5);
            text-align: left;
            max-width: 100%;
        }

        .safety-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 4rem;
            margin-top: 4rem;
            max-width: 1200px;
        }

        .safety-feature {
            text-align: left;
        }

        .safety-feature h4 {
            font-size: 1rem;
            font-weight: 600;
            color: white;
            margin-bottom: 0.5rem;
            line-height: 1.6;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.5);
            display: inline;
        }

        .safety-feature p {
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 400;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            display: inline;
        }

        @media (max-width: 768px) {
            .safety-features {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .safety-details {
                padding: 4rem 2rem;
            }
        }

        /* FAQ Section */
        .faq-section {
            background: #ffffff;
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .faq-title {
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: 300;
            color: #111827;
            text-align: center;
            margin-bottom: 3rem;
            letter-spacing: -0.02em;
        }

        .faq-container {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .faq-item {
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            background: #ffffff;
            transition: all 0.2s ease;
        }

        .faq-item:hover {
            border-color: #d1d5db;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1rem;
            font-weight: 500;
            color: #111827;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
        }

        .faq-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #6b7280;
            transition: transform 0.2s ease;
        }

        .faq-item.active .faq-icon {
            transform: rotate(45deg);
        }

        .faq-answer {
            padding: 0 1.5rem;
            color: #6b7280;
            line-height: 1.6;
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 0 1.5rem 1.5rem;
            opacity: 1;
        }

        .faq-cta {
            background: #111827;
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-top: 3rem;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .faq-cta-text {
            font-size: 1.1rem;
            font-weight: 400;
            margin-bottom: 1.5rem;
            display: block;
        }

        .faq-cta-btn {
            background: white;
            color: #111827;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .faq-cta-btn:hover {
            background: #f9fafb;
            transform: translateY(-1px);
        }

        /* Dashboard Showcase Section */
        .dashboard-showcase {
            background: #ffffff;
            padding: 2rem 2rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        .dashboard-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 4rem;
            min-height: 80vh;
        }

        .device-hardware {
            display: none;
        }

        .device-hardware img {
            width: 100%;
            height: auto;
            object-fit: contain;
        }

        .dashboard-display {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 4rem;
            width: 100%;
        }

        .phone-container {
            perspective: 1000px;
            width: 350px;
            height: 700px;
            position: relative;
        }

        .dashboard-screen {
            width: 100%;
            height: auto;
            object-fit: cover;
            object-position: center;
            transform: rotateX(25deg);
            transition: transform 0.3s ease-out;
            transform-origin: center center;
            border-radius: 20px;
            border: 3px solid #fdfdfe;
            max-height: 100%;
        }

        .dashboard-text {
            max-width: 600px;
        }

        .dashboard-text h2 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 300;
            color: #111827;
            margin-bottom: 2rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .dashboard-text p {
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            line-height: 1.6;
            color: #6b7280;
            margin-bottom: 2rem;
        }

        .dashboard-cta-btn {
            background: #111827;
            color: white;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s ease;
            display: inline-block;
        }

        .dashboard-cta-btn:hover {
            background: #1f2937;
            transform: translateY(-1px);
        }

        /* 3D Device Section */
        .device-3d-section {
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
            padding: 4rem 2rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .device-3d-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            min-height: 80vh;
            padding: 2rem 0 0;
        }

        .device-3d-content {
            text-align: center;
            margin-bottom: 2rem;
            max-width: 800px;
        }

        .device-3d-content h2 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 300;
            color: #111827;
            margin-bottom: 2rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .device-3d-content p {
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            line-height: 1.6;
            color: #6b7280;
            max-width: 500px;
            margin: 0 auto;
        }

        .device-3d-viewer {
            position: relative;
            height: 700px;
            width: 700px;
            background: radial-gradient(circle at center, rgba(74, 158, 255, 0.05) 0%, transparent 70%);
            border-radius: 50%;
            overflow: visible;
        }

        #device3DCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .interaction-hint {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            color: #6b7280;
            border: 1px solid rgba(0, 0, 0, 0.1);
            opacity: 0.6;
            transition: opacity 0.3s ease;
        }

        /* Mobile Responsive for 3D Device */
        @media (max-width: 768px) {
            .device-3d-section {
                padding: 6rem 1rem;
            }

            .device-3d-container {
                padding: 2rem 0;
            }

            .device-3d-viewer {
                height: 500px;
                width: 500px;
            }
        }

        /* UI Experience Showcase Section */
        .ui-showcase-section {
            padding: 80px 0;
            background: #ffffff;
            position: relative;
        }

        .ui-showcase-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .ui-showcase-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .ui-showcase-row {
            display: flex;
            gap: 20px;
            width: 100%;
        }

        /* Top section - 3 images + daily memories positioned to close gap */
        .top-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto auto;
            gap: 20px;
            margin-bottom: -150px;
            align-items: start;
        }

        .top-section .ui-showcase-item img {
            width: 100%;
            height: auto;
            object-fit: cover;
        }

        /* Move daily memories up to close the gap */
        .top-section .ui-showcase-item:nth-child(4) {
            transform: translateY(-145px);
        }

        /* Ensure daily memories has hover effect too */
        .top-section .ui-showcase-item:nth-child(4):hover {
            transform: translateY(-145px) scale(1.02);
        }

        .top-row,
        .middle-row {
            display: contents;
        }

        .top-row .ui-showcase-item,
        .middle-row .ui-showcase-item {
            width: 100%;
        }

        .bottom-row {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .bottom-row .ui-showcase-item.full-width {
            width: 100%;
            max-width: none;
        }

        .ui-showcase-item {
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .ui-showcase-item:hover {
            transform: scale(1.02);
        }

        .ui-showcase-item img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 20px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        /* Top section - all 4 images align at bottom */
        .top-section .ui-showcase-item img {
            height: auto;
            width: 100%;
        }

        .bottom-row .ui-showcase-item img {
            height: auto;
        }

        @media (max-width: 1024px) {
            .ui-showcase-container {
                padding: 0 1rem;
            }

            .top-section {
                gap: 15px;
            }
        }

        @media (max-width: 768px) {
            .ui-showcase-section {
                padding: 60px 0;
            }

            .top-section {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto auto;
                gap: 15px;
            }

            .top-section .ui-showcase-item {
                grid-column: 1 !important;
                grid-row: auto !important;
                height: auto;
            }

            .top-section .ui-showcase-item img {
                height: auto !important;
            }

            .ui-showcase-row {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Platform Integration Section */
        .platform-section {
            background: #141414;
            padding: 6rem 2rem;
            position: relative;
        }

        .platform-container {
            max-width: 1400px;
            margin: 0 auto;
            padding-bottom: 4rem;
        }

        .platform-content {
            text-align: left;
            padding-top: 0.5rem;
            padding-left: 2rem;
        }

        .platform-content h2 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 300;
            color: white;
            margin-bottom: 2rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .platform-content p {
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.7);
            max-width: 500px;
        }

        .platform-image {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 1.8rem;
            padding: 0 2.5rem;
        }

        .platform-image img {
            max-width: 100%;
            height: auto;
        }

        @media (max-width: 768px) {
            .platform-section {
                padding: 4rem 1rem;
            }

            .platform-content {
                text-align: center;
            }

            .platform-content p {
                max-width: 100%;
            }

            .platform-image {
                margin-top: 2rem;
                padding: 0 1.5rem;
            }
        }

        /* Mobile Responsive for Dashboard */
        @media (max-width: 768px) {
            .dashboard-showcase {
                padding: 6rem 1rem;
            }

            .dashboard-content {
                flex-direction: column;
                gap: 4rem;
                text-align: center;
            }

            .device-hardware {
                flex: none;
                width: 200px;
            }

            .phone-container {
                width: 300px;
                height: 450px;
            }

            .dashboard-text {
                max-width: 100%;
            }
        }

        /* Mobile Responsive */

        @media (max-width: 768px) {
            .header {
                top: 1rem;
                left: 1rem;
                right: 1rem;
                padding: 0 1.5rem;
                height: 55px;
            }

            .nav-menu {
                gap: 1rem;
            }

            .nav-link {
                font-size: 14px;
                padding: 0.5rem 0.75rem;
            }

            .early-access-btn {
                padding: 0.6rem 1.2rem;
                font-size: 13px;
            }

            .hero-content {
                padding: 0 1rem;
            }

            .hero {
                margin: 80px 1rem 1rem;
                height: 70vh;
            }

            .dropdown {
                min-width: 250px;
                padding: 1rem;
            }

            .footer-content {
                flex-direction: column;
                gap: 1rem;
            }

            .footer-bottom {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .faq-section {
                padding: 3rem 1rem;
            }

            .faq-question {
                padding: 1.25rem;
                font-size: 1rem;
            }

            .faq-cta {
                padding: 1.5rem;
                text-align: center;
            }

            .faq-cta-text {
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 1.3rem;
                letter-spacing: 0.12em;
            }

            .nav-menu {
                gap: 0.5rem;
            }

            .nav-link {
                padding: 0.4rem 0.6rem;
                font-size: 13px;
            }

            .early-access-btn {
                padding: 0.5rem 1rem;
                font-size: 12px;
            }
        }
    </style>
    <!-- Three.js ES6 modules -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.152.2/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.152.2/examples/jsm/"
        }
    }
    </script>
</head>
<body>
    <div class="cursor-dot" id="cursorDot"></div>
    
    <!-- Mega Menu Backdrop -->
    <div class="mega-menu-backdrop" id="megaMenuBackdrop"></div>

    <!-- Header Navigation -->
    <header class="header">
        <a href="index.html" class="logo">
            <img src="idiom-logo.jpg" alt="Idiom" class="logo-image">
        </a>

        <nav class="nav-menu">
            <div class="nav-left">
                <!-- Empty space for balance -->
            </div>

            <div class="nav-right">
                <a href="contacts.html" class="early-access-btn">Early Access</a>
            </div>
        </nav>

        <div class="header-center-overlay">
            <div class="nav-center">
                <div class="nav-item mega-menu-trigger">
                    <a href="#" class="nav-link">Product</a>
                </div>
                <div class="nav-item mega-menu-trigger">
                    <a href="#" class="nav-link">Support</a>
                </div>
                <div class="nav-item">
                    <a href="pricing.html" class="nav-link">Pricing</a>
                </div>
                <div class="nav-divider">|</div>
                <div class="nav-item">
                    <a href="#faq-section" class="nav-link">FAQs</a>
                </div>
            </div>
        </div>

        <!-- Shared mega menu for both Product and Support -->
        <div class="mega-menu shared-mega-menu">
            <div class="mega-menu-content">
                <div class="mega-menu-left">
                    <div class="mega-menu-card" id="megaMenuCard">
                        <img src="old-lady.jpg" alt="Elderly woman" class="mega-menu-image">
                    </div>
                </div>
                <div class="mega-menu-right">
                    <div class="mega-menu-section">
                        <h4>PRODUCT</h4>
                        <a href="#" class="mega-menu-link with-image">
                            <img src="dropdown-one.jpg" alt="Experience Idiom" class="mega-menu-link-image">
                            <div class="mega-menu-link-content">
                                <strong>Experience Idiom</strong>
                                <span>See how natural conversation becomes intelligent health support</span>
                            </div>
                        </a>
                        <a href="#" class="mega-menu-link with-image">
                            <img src="dropdown-two.jpg" alt="Care Features" class="mega-menu-link-image">
                            <div class="mega-menu-link-content">
                                <strong>Care Features</strong>
                                <span>Emergency response, memory assistance, and family connectivity through voice</span>
                            </div>
                        </a>
                        <a href="#" class="mega-menu-link with-image">
                            <img src="dropdown-three.jpg" alt="Idiom for Care Networks" class="mega-menu-link-image">
                            <div class="mega-menu-link-content">
                                <strong>Idiom for Care Networks</strong>
                                <span>Comprehensive monitoring designed for families and healthcare providers</span>
                            </div>
                        </a>
                    </div>
                    <div class="mega-menu-section">
                        <h4>LEARN MORE</h4>
                        <a href="#faq-section" class="mega-menu-link simple">FAQs</a>
                        <a href="pricing.html" class="mega-menu-link simple">Pricing</a>
                        <a href="privacy.html" class="mega-menu-link simple">Privacy Promise</a>
                        <a href="our-why.html" class="mega-menu-link simple">Why Conversation Matters</a>
                        <a href="faq.html" class="mega-menu-link simple">Care Resources</a>
                    </div>
                    <div class="mega-menu-section">
                        <h4>OTHER</h4>
                        <a href="privacy.html" class="mega-menu-link simple">Privacy Policy</a>
                        <a href="#" class="mega-menu-link simple">Terms & Conditions</a>
                        <a href="#" class="mega-menu-link simple">Healthcare Provider Information</a>
                        <a href="#" class="mega-menu-link simple">Support & Setup Guide</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <video class="hero-video" autoplay muted loop playsinline>
            <source src="video-demo.mp4" type="video/mp4">
        </video>
        <div class="hero-content">
            <h1 class="hero-title">Technology that strengthens the bonds between us</h1>
            <p class="hero-description">Transform everyday moments into deeper understanding between the people who care about each other</p>
        </div>
    </section>

    <!-- 3D Device Section -->
    <section class="device-3d-section">
        <div class="device-3d-container">
            <div class="device-3d-content">
                <h2>Always-on care that understands what matters.</h2>
                <p>Experience our revolutionary device that seamlessly integrates into your daily life.</p>
            </div>
            <div class="device-3d-viewer" id="device3DViewer">
                <canvas id="device3DCanvas"></canvas>
                <div class="interaction-hint">Drag to rotate</div>
            </div>
        </div>
    </section>

    <!-- Dashboard Showcase Section -->
    <section class="dashboard-showcase">
        <div class="dashboard-container">
            <div class="dashboard-content">
                <div class="device-hardware">
                    <img src="device-hardware.jpg" alt="Idiom Device Hardware">
                </div>
                <div class="dashboard-display">
                    <div class="phone-container" id="phoneContainer">
                        <img src="health-dashboard.jpg" alt="Health Dashboard Interface" class="dashboard-screen">
                    </div>
                    <div class="dashboard-text">
                        <h2>The health companion that remembers everything you might miss.</h2>
                        <p>Conversations transform into personalised care insights, medication reminders, and healthcare coordination - all through natural interaction.</p>
                        <a href="contacts.html" class="dashboard-cta-btn">Early Access</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- UI Experience Showcase Section -->
    <section class="ui-showcase-section">
        <div class="ui-showcase-container">
            <div class="ui-showcase-grid">
                <div class="top-section">
                    <!-- Top Left -->
                    <div class="ui-showcase-item" style="grid-column: 1; grid-row: 1;">
                        <img src="experience-idiom-images/summaries-and-takeaways.jpg?v=3" alt="Summaries and takeaways">
                    </div>
                    <!-- Top Right -->
                    <div class="ui-showcase-item" style="grid-column: 2; grid-row: 1;">
                        <img src="experience-idiom-images/reflections-and-insights.jpg?v=3" alt="Reflections and insights">
                    </div>
                    <!-- Bottom Left -->
                    <div class="ui-showcase-item" style="grid-column: 1; grid-row: 2;">
                        <img src="experience-idiom-images/suggested-to-dos.jpg?v=3" alt="Suggested to-dos">
                    </div>
                    <!-- Bottom Right -->
                    <div class="ui-showcase-item" style="grid-column: 2; grid-row: 2;">
                        <img src="experience-idiom-images/daily-memories.jpg?v=3" alt="Daily memories">
                    </div>
                </div>
                <div class="ui-showcase-row bottom-row">
                    <div class="ui-showcase-item full-width">
                        <img src="experience-idiom-images/personalised-support.jpg?v=5" alt="Personalised support">
                    </div>
                    <div class="ui-showcase-item full-width">
                        <img src="experience-idiom-images/memories-that-matter.jpg?v=4" alt="Memories that matter">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Platform Integration Section -->
    <section class="platform-section">
        <div class="platform-container">
            <div class="platform-content">
                <h2>The only comprehensive conversational health platform.</h2>
                <p>Idiom is the only AI health companion you'll ever need. This is the first fully integrated wearable that transforms everyday conversations into meaningful health insights, seamless family connectivity, intelligent emergency response, and proactive daily care  all through a user experience defined by simplicity.</p>
            </div>
        </div>
        <div class="platform-image">
            <img src="integration-map.jpg" alt="Idiom Platform Integrations">
        </div>
    </section>

    <!-- Carousel Showcase Section -->
    <section class="carousel-showcase">
        <div class="carousel-container">
            <div class="carousel-header">
                <h2>Your conversations, decoded for wellness.</h2>
            </div>

            <div class="carousel-wrapper" id="carouselWrapper">
                <div class="carousel-track" id="carouselTrack">
                    <div class="carousel-slide">
                        <div class="slide-content">
                            <div class="slide-text">
                                <h3>Know your family are thriving.</h3>
                                <p>Gentle daily insights keep you close, wherever you are. Peace of mind, every day.</p>
                            </div>
                            <div class="slide-image">
                                <img src="Carousel-page-one.jpg" alt="Family connection app interface">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <div class="slide-content slide-content-background" style="background-image: url('Carousel-page-six.jpg');">
                            <div class="slide-text-overlay">
                                <h3>Your family life, your health record.</h3>
                                <p>Everyday conversations become rich wellness insights. Share with providers who finally see the full picture.</p>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <div class="slide-content slide-content-vertical">
                            <div class="slide-text-vertical">
                                <h3>Stay close to family, from anywhere.</h3>
                                <p>Daily summaries let you care without constant check-ins. Independence, preserved.</p>
                            </div>
                            <div class="slide-image-bottom">
                                <img src="Carousel-page-three.jpg" alt="Health dashboard cards showing wellness data">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <div class="slide-content slide-content-companionship">
                            <div class="slide-text-top">
                                <h3>Companionship that feels like family.</h3>
                                <p>Gentle AI remembers routines, offers reminders, and keeps the conversation going. Like loved ones, always nearby.</p>
                            </div>
                            <div class="slide-images-bottom">
                                <div class="slide-device-hardware">
                                    <img src="device-hardware.jpg" alt="Idiom Device Hardware">
                                </div>
                                <div class="slide-main-image">
                                    <img src="Carousel-page-four.jpg" alt="AI companionship interface">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <div class="slide-content">
                            <div class="slide-text">
                                <h3>Help that finds your loved ones.</h3>
                                <p>AI detects accidents, confusion, and distress  no buttons, no phones. Just support, when it matters.</p>
                            </div>
                            <div class="slide-image">
                                <img src="Carousel-page-two.jpg" alt="AI assistance interface">
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Navigation Dots -->
            <div class="carousel-dots" id="carouselDots">
                <button class="dot active" data-slide="0"></button>
                <button class="dot" data-slide="1"></button>
                <button class="dot" data-slide="2"></button>
                <button class="dot" data-slide="3"></button>
                <button class="dot" data-slide="4"></button>
            </div>
        </div>
    </section>

    <!-- Safety Section -->
    <section class="safety-section">
        <div class="safety-intro">
            <div class="safety-text-intro">
                <h2>Safety</h2>
                <h3>Know your well-being by voice.</h3>
                <p>The more we understand about your daily patterns, the more empowered your care network becomes to take action. Through advanced natural language processing and 24/7 active listening, your device provides a bigger picture of your emotional and psychological health, so you and your loved ones can stay informed. And now we take the next big step in elder care with a pioneering feature  early intervention alerts.</p>
            </div>
        </div>

        <div class="safety-details">
            <div class="safety-text-details">
                <h3>Get alerted to signs of distress before crisis.</h3>
                <p>Elder abuse affects 1 in 6 older adults worldwide, with psychological abuse being the most common form at 11.7%. Social isolation affects a quarter of older people and is a key risk factor for mental health conditions. The problem frequently goes unrecognised because it often happens behind closed doors  and even during family visits, with brief interactions, subtle signs can be easily missed.</p>

                <div class="safety-features">
                    <div class="safety-feature">
                        <h4>Receive care alerts just by wearing your device.</h4>
                        <p>Your device continuously analyzes speech patterns, vocal stress indicators, and language changes that may signal distress, isolation, or abuse. How? Advanced NLP algorithms process natural conversation to detect emotional shifts and concerning patterns over time, connecting you instantly to your care network when support is needed.</p>
                    </div>

                    <div class="safety-feature">
                        <h4>Groundbreaking insights. Grounded in science.</h4>
                        <p>We developed our language analysis technology using advanced machine learning methods trained on extensive psychological research. Approximately 14% of adults aged 60 and over live with a mental disorder, yet these conditions are often underrecognised. Our technology bridges this gap by detecting distress through language patterns.</p>
                    </div>

                    <div class="safety-feature">
                        <h4>Connect to your care network.</h4>
                        <p>When concerning patterns are detected, your designated care network receives immediate alerts. This is critical  around 27.2% of deaths from suicide globally are among people aged 60 or over. Timely intervention creates meaningful conversations and prevents crisis situations, ensuring you're never alone when you need support most.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section" id="faq-section">
        <h2 class="faq-title">FAQs</h2>
        <div class="faq-container">
            <div class="faq-item">
                <button class="faq-question">
                    <span>How is this different from just recording everything?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    Idiom is designed specifically for care relationships, not personal productivity. Unlike basic recording devices, Idiom processes conversations into actionable care insights that can be safely shared with your chosen care network - whether that's adult children monitoring aging parents, caregivers supporting neurodivergent individuals, or family members staying connected across distances.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">
                    <span>How does the device work?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    Idiom is a lightweight, wearable device that clips magnetically to your clothing. It continuously captures audio from your conversations and activities, then uses AI to process this into meaningful insights, summaries, and alerts shared based on your specific permissions.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">
                    <span>Can I control what my family members see?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    Absolutely. You have granular control over what insights are shared with each person in your care network. You might share basic daily summaries with one person while giving another access to health-related insights or mood patterns.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">
                    <span>What about private conversations?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    Idiom includes a physical privacy button for immediate recording pause, plus automatic detection of sensitive contexts. You can set specific privacy rules for certain locations, times, or conversation types.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">
                    <span>How secure is my data?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    We use end-to-end encryption with customer-managed keys, meaning even we cannot access your raw audio or conversations. Data is encrypted in transit and at rest, and we're becoming HIPAA-compliant.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">
                    <span>Do you sell my data or use it for advertising?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    Never. We do not sell your personal data or use it for advertising. Our business model is based on subscription services, not data monetization.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">
                    <span>Is Idiom free?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    We provide a 1-month free trial of Idiom One for all users, including a certified pre-owned device protected by our lifetime warranty. After your trial, continue with our Care Network plan at $49/month for full features, or our Basic plan at $19/month for personal insights only. Family plans are available for multiple devices at $79/month. If Idiom One isn't for you, cancel anytime and send your device back. You'll be responsible for return shipping costs.
                </div>
            </div>

            <div class="faq-cta" id="faq-cta">
                <div style="text-align: center;">
                    <div class="faq-cta-text">Have more questions about how Idiom works and our privacy commitments?</div>
                    <a href="faq.html" class="faq-cta-btn">Read More</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Poster Section -->
    <section class="poster-section">
        <div class="poster-container">
            <div class="poster-image-wrapper">
                <img src="Idiom-poster.jpg" alt="Idiom Poster" class="poster-image">
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#">X </a>
                <a href="#">LinkedIn </a>
                <a href="#">Instagram </a>
                <a href="#">Legal </a>
                <a href="#" class="footer-brand">Idiom </a>
            </div>
        </div>
        <div class="footer-bottom">
            <span>2025 Idiom</span>
            <span class="footer-tagline">Rational Optimism</span>
        </div>
    </footer>

    <!-- Quiz Popup -->
    <div class="quiz-overlay" id="quizOverlay">
        <div class="quiz-container">
            <button class="quiz-close" id="quizClose"></button>

            <!-- Quiz Content -->
            <div class="quiz-image">
                <img src="quiz-page-one.jpg" alt="Idiom Device" id="quizImage">
            </div>

            <div class="quiz-content">
                <div class="quiz-progress" id="quizProgress"></div>
                <h2 class="quiz-title" id="quizTitle">Is Idiom right for your family?</h2>
                <p class="quiz-subtitle" id="quizSubtitle">See if ambient care intelligence can help bridge the distance between you and the people you care about</p>

                <div class="quiz-options" id="quizOptions">
                    <button class="quiz-button" id="startQuizBtn">Start - takes 2 minutes</button>
                </div>

                <div style="font-size: 12px; color: #9ca3af; text-align: center; margin-top: 1rem;">
                    By continuing you agree to our <a href="privacy.html" style="color: #4A9EFF;">privacy policy</a> and <a href="#" style="color: #4A9EFF;">terms of service</a>.
                </div>
            </div>
        </div>
    </div>

    <script>
        const cursorDot = document.getElementById('cursorDot');
        
        // Cursor tracking
        document.addEventListener('mousemove', (e) => {
            cursorDot.style.left = e.clientX + 'px';
            cursorDot.style.top = e.clientY + 'px';
        });

        document.addEventListener('mouseleave', () => {
            cursorDot.style.opacity = '0';
        });

        document.addEventListener('mouseenter', () => {
            cursorDot.style.opacity = '1';
        });

        // Add hover effects for interactive elements
        const interactiveElements = document.querySelectorAll('a, button, [role="button"]');
        
        interactiveElements.forEach(element => {
            element.addEventListener('mouseenter', () => {
                cursorDot.style.transform = 'translate(-50%, -50%) scale(1.5)';
            });
            
            element.addEventListener('mouseleave', () => {
                cursorDot.style.transform = 'translate(-50%, -50%) scale(1)';
            });
        });

        // Smart navigation behavior
        const header = document.querySelector('.header');
        let lastScrollTop = 0;
        let scrollTimeout;

        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimeout);
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            // Hide header when scrolling down, show when scrolling up
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                header.classList.add('hidden');
            } else {
                header.classList.remove('hidden');
            }
            
            lastScrollTop = scrollTop;
        });

        // Show header when mouse is near top of page
        document.addEventListener('mousemove', (e) => {
            if (e.clientY < 100) {
                header.classList.remove('hidden');
            }
        });

        // FAQ accordion functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const faqItem = question.parentElement;
                const isActive = faqItem.classList.contains('active');
                
                // Close all other FAQ items
                document.querySelectorAll('.faq-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Toggle current item
                if (!isActive) {
                    faqItem.classList.add('active');
                }
            });
        });

        // Butter smooth scroll for anchor links with custom easing
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - 100;
                    const startPosition = window.pageYOffset;
                    const distance = targetPosition - startPosition;
                    const duration = Math.min(Math.abs(distance) * 1.5, 2500); // Dynamic duration based on distance
                    let start = null;

                    function step(timestamp) {
                        if (!start) start = timestamp;
                        const progress = timestamp - start;
                        const progressPercent = Math.min(progress / duration, 1);

                        // Custom easing function: ease-in-out with butter smooth curve
                        const ease = progressPercent < 0.5
                            ? 4 * progressPercent * progressPercent * progressPercent
                            : 1 - Math.pow(-2 * progressPercent + 2, 3) / 2;

                        window.scrollTo(0, startPosition + distance * ease);

                        if (progress < duration) {
                            requestAnimationFrame(step);
                        }
                    }

                    requestAnimationFrame(step);
                }
            });
        });

        // Global phone state tracking
        let phoneHasReachedFront = false;
        let lastScrollY = 0;
        let scrollDirection = 'down';

        // Carousel functionality
        class Carousel {
            constructor() {
                this.currentSlide = 0;
                this.totalSlides = 5;
                this.isTransitioning = false;
                this.touchStartX = 0;
                this.touchEndX = 0;
                this.minSwipeDistance = 50;

                this.track = document.getElementById('carouselTrack');
                this.wrapper = document.getElementById('carouselWrapper');
                this.dots = document.getElementById('carouselDots');
                this.carouselSection = document.querySelector('.carousel-showcase');

                this.init();
            }

            init() {
                this.setupEventListeners();
                this.updateCarousel();
                this.handleScroll();
            }

            setupEventListeners() {
                // Dots navigation
                this.dots.addEventListener('click', (e) => {
                    if (e.target.classList.contains('dot')) {
                        const slideIndex = parseInt(e.target.dataset.slide);
                        this.goToSlide(slideIndex);
                    }
                });

                // Scroll event for horizontal scrolling
                this.wrapper.addEventListener('scroll', () => this.updateDotsFromScroll());

                // Scroll event for sticky dots
                window.addEventListener('scroll', () => this.handleScroll());
            }

            updateDotsFromScroll() {
                if (!this.wrapper) return;

                const scrollLeft = this.wrapper.scrollLeft;
                const slideWidth = this.wrapper.clientWidth;
                const currentSlide = Math.round(scrollLeft / slideWidth);

                if (currentSlide !== this.currentSlide && currentSlide >= 0 && currentSlide < this.totalSlides) {
                    this.currentSlide = currentSlide;
                    this.updateDots();
                }
            }

            updateDots() {
                document.querySelectorAll('.dot').forEach((dot, index) => {
                    dot.classList.toggle('active', index === this.currentSlide);
                });
            }

            handleScroll() {
                if (!this.carouselSection || !this.dots) return;

                const sectionRect = this.carouselSection.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                const sectionTop = sectionRect.top;
                const sectionBottom = sectionRect.bottom;
                const sectionHeight = sectionRect.height;

                // Get safety section to determine when to hide dots (instead of FAQ)
                const safetySection = document.querySelector('.safety-section');
                const safetyRect = safetySection ? safetySection.getBoundingClientRect() : null;

                // Handle dashboard phone tilt animation
                this.handleDashboardTilt();

                // Handle safety section blur effect
                this.handleSafetyBlur();

                // Calculate carousel middle point in viewport coordinates
                const carouselMiddleY = sectionTop + (sectionHeight * 0.5);

                // Define the visibility zone: from middle of carousel TO when safety section enters frame
                const pastCarouselMiddle = carouselMiddleY <= windowHeight;
                const beforeSafetyEnters = !safetyRect || safetyRect.top >= windowHeight;
                const inVisibilityZone = pastCarouselMiddle && beforeSafetyEnters;

                if (inVisibilityZone) {
                    // Show dots - we're in the visibility zone
                    this.dots.classList.add('visible');
                    this.dots.classList.remove('hidden');
                } else {
                    // Hide dots - we're outside the visibility zone
                    this.dots.classList.remove('visible');
                    this.dots.classList.add('hidden');
                }
            }

            goToSlide(index) {
                if (index === this.currentSlide) return;
                this.currentSlide = index;
                this.scrollToSlide(this.currentSlide);
                this.updateDots();
            }

            scrollToSlide(index) {
                if (!this.wrapper) return;
                const slideWidth = this.wrapper.clientWidth;
                this.wrapper.scrollTo({
                    left: index * slideWidth,
                    behavior: 'smooth'
                });
            }

            updateCarousel() {
                // Update dots and initial position
                this.updateDots();
                this.scrollToSlide(this.currentSlide);
            }

            handleDashboardTilt() {
                const phoneContainer = document.getElementById('phoneContainer');
                const dashboardScreen = phoneContainer?.querySelector('.dashboard-screen');
                if (!phoneContainer || !dashboardScreen) return;

                const dashboardSection = document.querySelector('.dashboard-showcase');
                if (!dashboardSection) return;

                const sectionRect = dashboardSection.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                const sectionTop = sectionRect.top;
                const sectionBottom = sectionRect.bottom;
                const sectionHeight = sectionRect.height;

                const maxTilt = 45;

                // Calculate scroll progress through the dashboard section (exactly like 3D model)
                let scrollProgress = 0;

                if (sectionTop <= windowHeight && sectionBottom >= 0) {
                    // Section is in view - start tilting when section is halfway visible
                    const entryProgress = Math.max(0, (1 - (sectionTop / windowHeight)) * 0.7);
                    const scrollThrough = sectionTop <= 0 ? Math.abs(sectionTop) / (sectionHeight * 0.15) : 0;
                    scrollProgress = Math.min(1, entryProgress + scrollThrough);
                } else if (sectionBottom < 0) {
                    // Section has completely scrolled past
                    scrollProgress = 1;
                }

                // Convert progress to phone rotation (exactly like 3D model rotation)
                // 0 = tilted up (28), 1 = front on (0)
                const currentRotateX = maxTilt * (1 - scrollProgress);

                dashboardScreen.style.transform = `rotateX(${currentRotateX}deg)`;
            }

            handleSafetyBlur() {
                const safetySection = document.querySelector('.safety-section');
                if (!safetySection) return;

                const sectionRect = safetySection.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                const sectionTop = sectionRect.top;
                const sectionBottom = sectionRect.bottom;
                const sectionHeight = sectionRect.height;

                // Calculate blur progress based on scroll through the section
                let blurProgress = 0;

                if (sectionTop <= windowHeight && sectionBottom >= 0) {
                    if (sectionTop <= 0) {
                        // Section is scrolling past the top - apply blur
                        blurProgress = Math.abs(sectionTop) / sectionHeight;
                    } else {
                        // Section is entering from bottom - no blur yet
                        blurProgress = 0;
                    }
                } else if (sectionBottom < 0) {
                    // Section has completely scrolled past - full blur
                    blurProgress = 1;
                }

                // Apply blur effect (0px to 15px)
                const blurAmount = blurProgress * 15;
                safetySection.style.setProperty('--bg-blur', `blur(${blurAmount}px)`);

                // Debug logging
                console.log(`Blur: ${blurAmount.toFixed(1)}px`);
            }
        }

        // 3D Device Viewer
        class Device3DViewer {
            constructor() {
                this.scene = null;
                this.camera = null;
                this.renderer = null;
                this.controls = null;
                this.model = null;
                this.container = document.getElementById('device3DViewer');
                this.canvas = document.getElementById('device3DCanvas');

                if (this.container && this.canvas) {
                    this.init();
                }
            }

            init() {
                // Scene setup
                this.scene = new THREE.Scene();
                this.scene.background = null; // Transparent background

                // Camera setup
                this.camera = new THREE.PerspectiveCamera(
                    45,
                    this.container.offsetWidth / this.container.offsetHeight,
                    0.1,
                    1000
                );
                this.camera.position.set(0, 0, 5);

                // Renderer setup
                this.renderer = new THREE.WebGLRenderer({
                    canvas: this.canvas,
                    alpha: true,
                    antialias: true
                });
                this.renderer.setSize(this.container.offsetWidth, this.container.offsetHeight);
                this.renderer.setPixelRatio(window.devicePixelRatio);
                this.renderer.shadowMap.enabled = true;
                this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;

                // Lighting
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
                this.scene.add(ambientLight);

                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
                directionalLight.position.set(5, 5, 5);
                directionalLight.castShadow = true;
                this.scene.add(directionalLight);

                const fillLight = new THREE.DirectionalLight(0xffffff, 0.3);
                fillLight.position.set(-5, 0, 2);
                this.scene.add(fillLight);

                // Controls
                this.controls = new THREE.OrbitControls(this.camera, this.canvas);
                this.controls.enableDamping = true;
                this.controls.dampingFactor = 0.05;
                this.controls.enableZoom = false;
                this.controls.enablePan = false;
                this.controls.autoRotate = true;
                this.controls.autoRotateSpeed = 1;

                // Load 3D model
                this.loadModel();

                // Animation loop
                this.animate();

                // Handle resize
                window.addEventListener('resize', () => this.handleResize());
            }

            loadModel() {
                const loader = new THREE.GLTFLoader();

                // Add detailed error logging
                console.log('Attempting to load device-3d.glb...');

                loader.load(
                    './device-3d.glb',
                    (gltf) => {
                        console.log('3D model loaded successfully:', gltf);
                        this.model = gltf.scene;

                        // Scale and position the model
                        this.model.scale.setScalar(1.5);
                        this.model.position.set(0, -1, 0);

                        // Enable shadows
                        this.model.traverse((child) => {
                            if (child.isMesh) {
                                child.castShadow = true;
                                child.receiveShadow = true;

                                // Ensure materials are visible
                                if (child.material) {
                                    child.material.needsUpdate = true;
                                }
                            }
                        });

                        this.scene.add(this.model);
                        console.log('Model added to scene');

                        // Hide loading hint once model loads
                        const hint = document.querySelector('.interaction-hint');
                        if (hint) {
                            hint.textContent = 'Drag to rotate';
                        }
                    },
                    (progress) => {
                        const percentage = (progress.loaded / progress.total * 100);
                        console.log('Loading progress:', percentage + '%');

                        // Update hint with loading progress
                        const hint = document.querySelector('.interaction-hint');
                        if (hint && percentage < 100) {
                            hint.textContent = `Loading... ${Math.round(percentage)}%`;
                        }
                    },
                    (error) => {
                        console.error('Error loading 3D model:', error);
                        console.error('Make sure device-3d.glb exists in the same directory as demo.html');

                        // Show error in hint
                        const hint = document.querySelector('.interaction-hint');
                        if (hint) {
                            hint.textContent = 'Failed to load 3D model';
                            hint.style.background = 'rgba(255, 0, 0, 0.1)';
                            hint.style.color = '#dc2626';
                        }
                    }
                );
            }

            animate() {
                requestAnimationFrame(() => this.animate());

                if (this.controls) {
                    this.controls.update();
                }

                if (this.renderer && this.scene && this.camera) {
                    this.renderer.render(this.scene, this.camera);
                }
            }

            handleResize() {
                if (!this.container || !this.camera || !this.renderer) return;

                const width = this.container.offsetWidth;
                const height = this.container.offsetHeight;

                this.camera.aspect = width / height;
                this.camera.updateProjectionMatrix();
                this.renderer.setSize(width, height);
            }
        }

        // Mega Menu Management and 3D Tilt Effect
        function initMegaMenuTilt() {
            const megaMenuTriggers = document.querySelectorAll('.mega-menu-trigger');
            const sharedMegaMenu = document.querySelector('.shared-mega-menu');
            const megaMenuCard = sharedMegaMenu?.querySelector('.mega-menu-card');
            const backdrop = document.getElementById('megaMenuBackdrop');

            if (!sharedMegaMenu || !megaMenuCard || !backdrop) return;

            // Handle hover for mega menu triggers
            megaMenuTriggers.forEach(trigger => {
                trigger.addEventListener('mouseenter', () => {
                    sharedMegaMenu.style.opacity = '1';
                    sharedMegaMenu.style.visibility = 'visible';
                    sharedMegaMenu.style.transform = 'translateY(0)';
                    backdrop.classList.add('active');
                    // Disable page scrolling
                    document.body.style.overflow = 'hidden';
                });

                trigger.addEventListener('mouseleave', (e) => {
                    // Check if mouse is moving to the mega menu
                    setTimeout(() => {
                        if (!sharedMegaMenu.matches(':hover') && !trigger.matches(':hover')) {
                            sharedMegaMenu.style.opacity = '0';
                            sharedMegaMenu.style.visibility = 'hidden';
                            sharedMegaMenu.style.transform = 'translateY(-20px)';
                            backdrop.classList.remove('active');
                            // Re-enable page scrolling
                            document.body.style.overflow = '';
                        }
                    }, 100);
                });
            });

            // Handle hover for the mega menu itself
            sharedMegaMenu.addEventListener('mouseleave', () => {
                sharedMegaMenu.style.opacity = '0';
                sharedMegaMenu.style.visibility = 'hidden';
                sharedMegaMenu.style.transform = 'translateY(-20px)';
                backdrop.classList.remove('active');
                // Re-enable page scrolling
                document.body.style.overflow = '';
            });

            // 3D Tilt effect for the card - strongest on card, decreases with distance
            sharedMegaMenu.addEventListener('mousemove', (e) => {
                const cardRect = megaMenuCard.getBoundingClientRect();
                const cardCenterX = cardRect.left + cardRect.width / 2;
                const cardCenterY = cardRect.top + cardRect.height / 2;

                const mouseX = e.clientX;
                const mouseY = e.clientY;

                // Check if mouse is over the card itself
                const isOverCard = (
                    mouseX >= cardRect.left &&
                    mouseX <= cardRect.right &&
                    mouseY >= cardRect.top &&
                    mouseY <= cardRect.bottom
                );

                let intensity, deltaX, deltaY;

                if (isOverCard) {
                    // Full intensity when over card
                    deltaX = (mouseX - cardCenterX) / (cardRect.width / 2);
                    deltaY = (mouseY - cardCenterY) / (cardRect.height / 2);
                    intensity = 1;
                } else {
                    // Reduced intensity based on distance from card
                    const distanceX = Math.max(0, Math.max(cardRect.left - mouseX, mouseX - cardRect.right));
                    const distanceY = Math.max(0, Math.max(cardRect.top - mouseY, mouseY - cardRect.bottom));
                    const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);

                    // Calculate intensity (1 = full, 0 = none) based on distance
                    const maxDistance = 300; // pixels
                    intensity = Math.max(0, 1 - (distance / maxDistance));

                    // Calculate delta from mouse to card center
                    deltaX = (mouseX - cardCenterX) / 200; // Wider range for distant effect
                    deltaY = (mouseY - cardCenterY) / 200;

                    // Clamp deltas
                    deltaX = Math.max(-1, Math.min(1, deltaX));
                    deltaY = Math.max(-1, Math.min(1, deltaY));
                }

                const maxTilt = 20;
                const tiltMultiplier = intensity;
                const rotateY = deltaX * maxTilt * tiltMultiplier;
                const rotateX = -deltaY * maxTilt * tiltMultiplier;
                const scale = 1 + (0.08 * intensity);

                megaMenuCard.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;
            });

            sharedMegaMenu.addEventListener('mouseleave', () => {
                megaMenuCard.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)';
            });

            // Close mega menu when clicking on any link
            const megaMenuLinks = sharedMegaMenu.querySelectorAll('a');
            megaMenuLinks.forEach(link => {
                link.addEventListener('click', () => {
                    sharedMegaMenu.style.opacity = '0';
                    sharedMegaMenu.style.visibility = 'hidden';
                    sharedMegaMenu.style.transform = 'translateY(-20px)';
                    backdrop.classList.remove('active');
                    // Re-enable page scrolling
                    document.body.style.overflow = '';
                    // Reset card transform
                    megaMenuCard.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)';
                });
            });
        }

        // Initialize carousel and 3D viewer when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new Carousel();
            initMegaMenuTilt();

            // Check if running from local server
            if (window.location.protocol === 'file:') {
                const hint = document.querySelector('.interaction-hint');
                if (hint) {
                    hint.textContent = 'Please run from local server (python -m http.server)';
                    hint.style.background = 'rgba(255, 165, 0, 0.1)';
                    hint.style.color = '#4A9EFF';
                }
                console.warn('Running from file:// protocol. 3D model loading may fail due to CORS restrictions.');
                console.log('To fix: Run "python -m http.server" or "npx serve" in the project directory.');
            } else {
                initDevice3D();
            }
        });

        // Initialize 3D viewer with ES6 modules
        async function initDevice3D() {
            try {
                const THREE = await import('three');
                const { GLTFLoader } = await import('three/addons/loaders/GLTFLoader.js');
                const { OrbitControls } = await import('three/addons/controls/OrbitControls.js');

                class Device3DViewer {
                    constructor() {
                        this.scene = null;
                        this.camera = null;
                        this.renderer = null;
                        this.controls = null;
                        this.model = null;
                        this.container = document.getElementById('device3DViewer');
                        this.canvas = document.getElementById('device3DCanvas');

                        if (this.container && this.canvas) {
                            this.init();
                        }
                    }

                    init() {
                        console.log('Initializing 3D viewer with ES6 modules...');

                        // Scene setup
                        this.scene = new THREE.Scene();
                        this.scene.background = null;

                        // Camera setup
                        this.camera = new THREE.PerspectiveCamera(
                            45,
                            this.container.offsetWidth / this.container.offsetHeight,
                            0.1,
                            1000
                        );
                        this.camera.position.set(0, 0, 5);

                        // Renderer setup
                        this.renderer = new THREE.WebGLRenderer({
                            canvas: this.canvas,
                            alpha: true,
                            antialias: true
                        });
                        this.renderer.setSize(this.container.offsetWidth, this.container.offsetHeight);
                        this.renderer.setPixelRatio(window.devicePixelRatio);
                        this.renderer.shadowMap.enabled = true;
                        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;

                        // Lighting
                        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
                        this.scene.add(ambientLight);

                        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
                        directionalLight.position.set(5, 5, 5);
                        directionalLight.castShadow = true;
                        this.scene.add(directionalLight);

                        const fillLight = new THREE.DirectionalLight(0xffffff, 0.3);
                        fillLight.position.set(-5, 0, 2);
                        this.scene.add(fillLight);

                        // No manual controls - scroll-based rotation only
                        this.controls = null;
                        this.rotationY = -0.3; // Start with front slightly angled for better visibility
                        this.initialRotationX = -0.1; // Slight tilt to the left

                        // Load 3D model
                        this.loadModel();

                        // Animation loop
                        this.animate();

                        // Handle resize and scroll
                        window.addEventListener('resize', () => this.handleResize());
                        window.addEventListener('scroll', () => this.handleScroll());
                    }

                    loadModel() {
                        const loader = new GLTFLoader();

                        console.log('Attempting to load device-3d.glb...');
                        console.log('Current URL:', window.location.href);
                        console.log('Trying to load from:', new URL('./device-3d.glb', window.location.href).href);

                        loader.load(
                            './device-3d.glb',
                            (gltf) => {
                                console.log('3D model loaded successfully:', gltf);
                                this.model = gltf.scene;

                                // Scale and position the model (larger, centered)
                                this.model.scale.setScalar(2.5);
                                this.model.position.set(0, 0, 0);

                                // Apply initial rotations
                                this.model.rotation.x = this.initialRotationX;
                                this.model.rotation.y = this.rotationY;

                                // Enable shadows
                                this.model.traverse((child) => {
                                    if (child.isMesh) {
                                        child.castShadow = true;
                                        child.receiveShadow = true;
                                        if (child.material) {
                                            child.material.needsUpdate = true;
                                        }
                                    }
                                });

                                this.scene.add(this.model);
                                console.log('Model added to scene');

                                const hint = document.querySelector('.interaction-hint');
                                if (hint) {
                                    hint.style.display = 'none';
                                }
                            },
                            (progress) => {
                                const percentage = (progress.loaded / progress.total * 100);
                                console.log('Loading progress:', percentage + '%');

                                const hint = document.querySelector('.interaction-hint');
                                if (hint && percentage < 100) {
                                    hint.textContent = `Loading... ${Math.round(percentage)}%`;
                                }
                            },
                            (error) => {
                                console.error('Error loading 3D model:', error);
                                console.error('Network error details:', error.message);

                                const hint = document.querySelector('.interaction-hint');
                                if (hint) {
                                    hint.textContent = 'Failed to load 3D model';
                                    hint.style.background = 'rgba(255, 0, 0, 0.1)';
                                    hint.style.color = '#dc2626';
                                }
                            }
                        );
                    }

                    animate() {
                        requestAnimationFrame(() => this.animate());

                        if (this.renderer && this.scene && this.camera) {
                            this.renderer.render(this.scene, this.camera);
                        }
                    }

                    handleScroll() {
                        if (!this.model) return;

                        const deviceSection = document.querySelector('.device-3d-section');
                        if (!deviceSection) return;

                        const sectionRect = deviceSection.getBoundingClientRect();
                        const windowHeight = window.innerHeight;
                        const sectionTop = sectionRect.top;
                        const sectionBottom = sectionRect.bottom;
                        const sectionHeight = sectionRect.height;

                        // Calculate scroll progress through the section (0 to 1)
                        let scrollProgress = 0;

                        if (sectionTop <= windowHeight && sectionBottom >= 0) {
                            // Section is in view
                            if (sectionTop <= 0) {
                                // Section has started scrolling past top
                                scrollProgress = Math.min(1, Math.abs(sectionTop) / sectionHeight);
                            } else {
                                // Section is entering from bottom
                                scrollProgress = 0;
                            }
                        } else if (sectionBottom < 0) {
                            // Section has completely scrolled past
                            scrollProgress = 1;
                        }

                        // Convert progress to rotation (full circle = 2 radians)
                        // Start from initial position and add scroll rotation
                        this.rotationY = -0.3 + (scrollProgress * Math.PI * 2);

                        // Apply rotation to model
                        this.model.rotation.y = this.rotationY;
                        this.model.rotation.x = this.initialRotationX; // Maintain tilt
                    }

                    handleResize() {
                        if (!this.container || !this.camera || !this.renderer) return;

                        const width = this.container.offsetWidth;
                        const height = this.container.offsetHeight;

                        this.camera.aspect = width / height;
                        this.camera.updateProjectionMatrix();
                        this.renderer.setSize(width, height);
                    }
                }

                new Device3DViewer();

            } catch (error) {
                console.error('Failed to load Three.js modules:', error);
                const hint = document.querySelector('.interaction-hint');
                if (hint) {
                    hint.textContent = 'Browser not supported';
                    hint.style.background = 'rgba(255, 0, 0, 0.1)';
                    hint.style.color = '#dc2626';
                }
            }
        }

        // Quiz functionality - only for demo page
        const quizOverlay = document.getElementById('quizOverlay');
        const quizClose = document.getElementById('quizClose');
        const quizTitle = document.getElementById('quizTitle');
        const quizSubtitle = document.getElementById('quizSubtitle');
        const quizProgress = document.getElementById('quizProgress');
        const quizOptions = document.getElementById('quizOptions');
        const quizImage = document.getElementById('quizImage');
        const startQuizBtn = document.getElementById('startQuizBtn');

        let currentQuestion = 0;
        let quizAnswers = {};

        const quizQuestions = [
            {
                title: "What's your biggest concern about caring for your aging loved one?",
                options: [
                    "Missing early signs of health decline",
                    "Living too far away to check in regularly",
                    "Coordinating care across family members",
                    "Keeping them independent longer",
                    "Understanding their daily wellbeing",
                    "Other"
                ]
            },
            {
                title: "Who in your family would benefit most from Idiom?",
                options: [
                    "A parent living independently",
                    "A parent in assisted living",
                    "A grandparent we visit regularly",
                    "Multiple elderly family members",
                    "Someone recently diagnosed with memory concerns",
                    "Other"
                ]
            },
            {
                title: "What keeps you up at night about their safety?",
                options: [
                    "Falls and mobility issues",
                    "Medication management",
                    "Cognitive decline going unnoticed",
                    "Social isolation and loneliness",
                    "Not knowing when to intervene",
                    "Other"
                ]
            },
            {
                title: "How often do you currently check in with them?",
                options: [
                    "Multiple times per day",
                    "Daily",
                    "Few times per week",
                    "Weekly",
                    "Less than weekly",
                    "We live together"
                ]
            },
            {
                title: "What would give you the most peace of mind?",
                options: [
                    "Knowing they took their medications",
                    "Early warning of health changes",
                    "Better communication with their doctors",
                    "Coordinating care with siblings",
                    "Detecting depression or isolation",
                    "All of the above"
                ]
            },
            {
                title: "What best describes what you want from Idiom?",
                options: [
                    "Early health warning system",
                    "Family care coordination tool",
                    "Memory and medication support",
                    "Loneliness prevention",
                    "All-in-one elder care intelligence",
                    "Not sure yet - tell me more"
                ]
            }
        ];

        // Trigger quiz when user scrolls to well-being section (once per page load)
        const safetyIntro = document.querySelector('.safety-intro');
        let quizTriggered = false;

        const triggerObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !quizTriggered) {
                    quizTriggered = true;
                    setTimeout(() => {
                        showQuiz();
                    }, 1000); // Show after 1 second of viewing the well-being section
                }
            });
        }, {
            threshold: 0.5
        });

        if (safetyIntro) {
            triggerObserver.observe(safetyIntro);
        }


        function showQuiz() {
            quizOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function hideQuiz() {
            quizOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        function showQuestion(questionIndex) {
            const question = quizQuestions[questionIndex];
            currentQuestion = questionIndex;

            quizProgress.textContent = `${questionIndex + 1}/6`;
            quizTitle.textContent = question.title;
            quizSubtitle.textContent = '';

            quizOptions.innerHTML = '';

            question.options.forEach((option, index) => {
                const optionBtn = document.createElement('button');
                optionBtn.className = 'quiz-option';
                optionBtn.textContent = option;
                optionBtn.onclick = () => selectOption(optionBtn, option);
                quizOptions.appendChild(optionBtn);
            });

            // Add navigation
            const navDiv = document.createElement('div');
            navDiv.className = 'quiz-navigation';

            const prevBtn = document.createElement('button');
            prevBtn.className = 'quiz-nav-button';
            prevBtn.textContent = ' Previous';
            prevBtn.disabled = questionIndex === 0;
            prevBtn.onclick = () => {
                if (questionIndex > 0) {
                    showQuestion(questionIndex - 1);
                }
            };

            const spacer = document.createElement('div');

            navDiv.appendChild(prevBtn);
            navDiv.appendChild(spacer);

            quizOptions.appendChild(navDiv);
        }

        function selectOption(selectedBtn, answer) {
            // Remove selected class from all options
            quizOptions.querySelectorAll('.quiz-option').forEach(btn => {
                btn.classList.remove('selected');
            });

            // Add selected class to clicked option
            selectedBtn.classList.add('selected');

            // Store answer
            quizAnswers[currentQuestion] = answer;

            // Auto-advance to next question after a short delay
            setTimeout(() => {
                if (currentQuestion < quizQuestions.length - 1) {
                    showQuestion(currentQuestion + 1);
                } else {
                    showThankYou();
                }
            }, 500);
        }


        function showEmailCapture() {
            quizProgress.textContent = '6/6';
            quizTitle.textContent = "You're taking the first step toward better care";
            quizSubtitle.textContent = "We understand the weight of caring for aging parents across distance. Check your email for a personalized overview of how Idiom can help your family stay connected and catch health changes early.";

            quizOptions.innerHTML = `
                <input type="email" class="quiz-email-input" placeholder="Your Email" id="quizEmail" required>
                <button class="quiz-button" id="submitQuiz">Continue </button>
            `;

            document.getElementById('submitQuiz').onclick = submitQuiz;
        }

        async function submitQuiz() {
            const emailInput = document.getElementById('quizEmail');
            const email = (emailInput.value || '').trim();
            const btn = document.getElementById('submitQuiz');
            const valid = /^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email);
            if (!valid) {
                alert('Please enter a valid email address');
                return;
            }
            btn.disabled = true;
            localStorage.setItem('idiom_waitlist_email', email);
            const subject = 'Welcome to Idiom Early Access';
            const summary = Object.values(quizAnswers || {}).join(', ');
            const body = `Thanks for your interest in Idiom. Based on your answers: ${summary}. We will follow up with a personalised overview shortly.`;
            let sent = false;
            const endpoint = window.IDIOM_EMAIL_ENDPOINT;
            if (endpoint) {
                try {
                    const res = await fetch(endpoint, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ email, subject, body, answers: quizAnswers })
                    });
                    sent = res.ok;
                } catch (e) {
                    sent = false;
                }
            }
            if (!sent) {
                const mailto = `mailto:${encodeURIComponent(email)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                window.location.href = mailto;
            }
            showThankYou();
        }

        function showThankYou() {
            quizProgress.textContent = '';
            quizTitle.textContent = "Thank you!";
            quizSubtitle.textContent = "We'll send you a personalized care plan based on your responses. Check your email in the next few minutes.";

            quizOptions.innerHTML = `
                <button class="quiz-button" onclick="hideQuiz()">Close</button>
            `;
        }

        // Event listeners
        if (startQuizBtn) {
            startQuizBtn.onclick = () => showQuestion(0);
        }

        if (quizClose) {
            quizClose.onclick = hideQuiz;
        }

        if (quizOverlay) {
            quizOverlay.onclick = (e) => {
                if (e.target === quizOverlay) {
                    hideQuiz();
                }
            };
        }
    </script>
</body>
</html>
